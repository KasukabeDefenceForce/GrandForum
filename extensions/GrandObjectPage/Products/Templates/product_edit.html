<form>
<span class="label" style="display:inline-block;">Title:</span> <%= HTML.TextBox(this, 'title', {size: '50'}) %>
<h2>Authors</h2>
<div id="productAuthors">
    
</div>
<h2>Description</h2>
<%= HTML.TextArea(this, 'description', {style: 'height:175px;width:650px;'}) %>
<h2><%= category %> Information</h2>
<table id="productData">
    <tr>
        <td class="label">Type:</td>
        <td class="field">
            <%= HTML.Select(this, 'type', {options: this.model.getPossibleTypes()}) %>
            <% if(type.split('Misc').length > 1){ %>
                <%= HTML.MiscAutoComplete(this, 'type', {size: '30', misc: this.model.getPossibleMiscTypes()}) %>
            <% } %>
        </td>
    </tr>
    <tr>
        <td class="label">Status:</td>
        <td class="field"><%= HTML.Select(this, 'status', {options: this.model.getPossibleStatus()}) %></td>
    </tr>
    <tr>
        <td class="label">Date:</td>
        <td class="field"><%= HTML.DatePicker(this, 'date', {format: 'yy-mm-dd'}) %></td>
    </tr>
    <% _.each(this.model.getPossibleFields(), function(val, index){ %>
        <% if(data[index] != ""){ %>
            <tr>
                <td class="label"><%= val.label %>:</td>
                <td class="field">
                    <% if(val.type == "String"){ %>
                        <%= HTML.TextBox(this, 'data.' + index, {size: 30}) %>
                    <% } else if(val.type == "Radio"){ %>
                        <%= HTML.Radio(this, 'data.' + index, {size: 30, options: val.options}) %>
                    <% } else { %>
                        <%= HTML.TextBox(this, 'data.' + index, {size: 30}) %>
                    <% } %>
                </td>
            </tr>
        <% } %>
    <% }, this) %>
</table>
<h2>Related Projects</h2>
<div id='productSpinner'></div>
<div id='productProjects' style='width:650px;'>
    
</div>
</form>
<br />
<div style="width:180px;display:inline-block;">
    <button id='saveProduct'><% if(this.model.isNew()){ %>Create<% } else { %>Save<% } %> <%= category %></button><span class="throbber" style="display:none;"></span>
</div>
<div style="width:180px;display:inline-block;">
    <button id='cancel'>Cancel</button>
</div>
