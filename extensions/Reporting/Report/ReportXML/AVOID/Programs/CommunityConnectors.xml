<?xml version="1.0" encoding="UTF-8" ?>
<Report name="Community Connectors" reportType="RP_COMMUNITY_CONNECTORS" ajax="true" disabled="false">
    <Permissions>
        <Role role="INACTIVE+"></Role>
    </Permissions>
    <Script>
        <![CDATA[
            <script type="text/javascript">
                dc.init(me.get('id'), 'Program-CommunityConnectors');
                dc.increment('count');
            </script>
        ]]>
    </Script>
    <ReportSection id="community" tooltip="Community Connectors" name="Community Connectors" title="Community Connectors" blobSection="COMMUNITY" type="NextPrevReportSection">
        <Static>
            <![CDATA[
                <script type="text/javascript">
                    $("#reportHeader").hide();
                    $("#reportHeader").next().hide();
                </script>
                <div style='overflow: auto;'>
                    
                    <div style='display:flex; align-items: center;'>
                        <div class='program-header' style='min-width: 14em; text-align: center;'>
                            COMMUNITY CONNECTORS
                        </div>
                        <div style='width: 100%; text-align: center;'>
                            <img src="{$wgServer}{$wgScriptPath}/skins/people2.jpg" style='height: 150px; padding: 0 1em;' />
                        </div>
                    </div>
                    
                    <p><span class='program-text'>Who are Community Connectors?</span> Members of the AVOID Frailty for Healthy Aging Program who have the knowledge and skills to contribute to the KFL&A community by <b>informing others about services and resources available</b>.</p>
                    
                    <p>We call this ‘signposting’ or directing people to services that may be helpful.</p>
                    
                    <div style='display:flex; align-items: center;'>
                        <div>
                            <img src="{$wgServer}{$wgScriptPath}/skins/people1.png" style='height: 300px; padding: 0 1em;' />
                        </div>
                        <div style='width: 100%;'>
                            <p class='program-text'>Why become a Community Connector?</p>
                            <div class='program-box'>Help people without the commitment of becoming a volunteer</div><br />
                            <div class='program-box'>Reduce your own stress and improve your mood</div><br />
                            <div class='program-box'>Strengthen social connections, which are essential to the well being of everyone</div><br />
                            <div class='program-box'>Increase feelings of optimism, confidence, and control by being part of a solution</div>
                        </div>
                    </div>
                    <p><span class='program-text'>What’s required?</span> <b>Short training!</b> Attend a 1-hour training session. Training is interactive and fun and provided at <b>no cost</b>.</p>
                    
                    <p><span class='program-text'>Register for an upcoming training date:</span></p>
            ]]>
        </Static>
        <ReportItem id="phone" type="Text" width="180px" blobItem="PHONE">
            <![CDATA[
                <b>Phone Number:</b> {$item}<br />
            ]]>
        </ReportItem>
        <ReportItem id="register6" type="Checkbox" options="Thursday January 26, 1:00pm" blobType="BLOB_ARRAY" blobItem="REGISTER">
            <![CDATA[
                <!--There are currently no scheduled training dates.
                <script type='text/javascript'>
                    $(document).ready(function(){
                        $('#programSubmit').hide();
                    });
                </script-->
                <div class='program-button'>{$item}</div>&nbsp;&nbsp;
            ]]>
        </ReportItem>
        <Static>
            <![CDATA[ 
                    <br />
                    <span class='program-text'>You will be contacted with further details</span>               
                </div>
                <script type='text/javascript'>
                    $(".program-button").click(function(e){
                        var checkbox = $('input[type=checkbox]', this);
                        if($(e.target).not("input").length == 1){
                            $(checkbox).click();
                        }
                    });
                    $(document).ready(function(){
                        $("input[name=CommunityConnectors_phone]").on("input", function(){
                            clearWarning("#reportMessages");
                            if($("input[name=CommunityConnectors_phone]").val().trim() != ""){
                                $("#programSubmit").show();
                                $("#reportMessages").empty();
                            }
                            else{
                                $("#programSubmit").hide();
                                addWarning("You must provide your phone number before submitting", false, "#reportMessages");
                            }
                        }).trigger("input");
                    });
                </script>
            ]]>
        </Static>
        <ReportItem id="submit" type="SubmitEmail">
                <![CDATA[
                    <table>
                        <tr>
                            <td><b>Program:</b></td>
                            <td>Community Connectors</td>
                        </tr>
                        <tr>
                            <td><b>User:</b></td>
                            <td>{$user_name} &lt;{$user_email}&gt;</td>
                        </tr>
                        <tr>
                            <td><b>Date Submitted:</b></td>
                            <td>{time2date({$timestamp})}</td>
                        </tr>
                        <tr>
                            <td><b>Phone Number:</b></td>
                            <td>{getArray(RP_COMMUNITY_CONNECTORS,COMMUNITY,PHONE,0,{$user_id},0}</td>
                        </tr>
                        <tr>
                            <td valign='top'><b>Training Date:</b></td>
                            <td>
                                <div>{getArray(RP_COMMUNITY_CONNECTORS,COMMUNITY,REGISTER,0,{$user_id},0,register6}</div>
                            </td>
                        </tr>
                    </table>
                ]]>
            </ReportItem>
    </ReportSection>
</Report>
